<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>DPPH™ Ultra-Realistic 3D Bed</title>
<style>
    body {
        margin: 0;
        background: #000;
        overflow: hidden;
        font-family: Arial;
    }

    #controlPanel {
        position: absolute;
        top: 40px;
        right: 40px;
        width: 320px;
        padding: 20px;
        background: rgba(0,10,30,0.75);
        border: 1px solid #3af;
        border-radius: 20px;
        box-shadow: 0 0 20px #3af;
        backdrop-filter: blur(12px);
        color: #fff;
    }

    label { font-size: 14px; }
    input, select { width: 100%; margin-bottom: 15px; }
    button {
        width: 48%;
        padding: 10px;
        margin-top: 10px;
        border: none;
        border-radius: 12px;
        font-size: 16px;
    }
    #start { background: #00aaff; color: #fff; }
    #stop  { background: #ff6600; color: #fff; float: right; }
</style>
</head>

<body>

<div id="controlPanel">
    <h3>DPPH™ Control Panel</h3>

    <label>Temperature (°C)</label>
    <input type="range" min="20" max="60" value="35" />

    <label>Pulse Intensity</label>
    <input type="range" min="0" max="100" value="40" />

    <label>Program</label>
    <select>
        <option>Relaxation</option>
        <option>Deep Tissue</option>
        <option>Detox</option>
        <option>Spinal Therapy</option>
        <option>Lymphatic Boost</option>
    </select>

    <button id="start">Start</button>
    <button id="stop">Stop</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<script>
// ---------- BASIC 3D SETUP ----------
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x000000);

const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 2000);
camera.position.set(0, 60, 160);

const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.shadowMap.enabled = true;
document.body.appendChild(renderer.domElement);

// -------- LIGHTING --------
const ambient = new THREE.AmbientLight(0x88aaff, 0.6);
scene.add(ambient);

const spot = new THREE.SpotLight(0x55aaff, 2);
spot.position.set(100,150,100);
spot.castShadow = true;
scene.add(spot);

// ---------- BED FRAME ----------
const frameGeometry = new THREE.BoxGeometry(200, 20, 80);
const frameMaterial = new THREE.MeshPhongMaterial({ color: 0x22252a, shininess: 80 });
const frame = new THREE.Mesh(frameGeometry, frameMaterial);
frame.position.set(0, 10, 0);
frame.castShadow = true;
frame.receiveShadow = true;
scene.add(frame);

// ---------- GLOW SIDE PANELS ----------
const glowGeom = new THREE.BoxGeometry(200, 5, 5);
const glowMat = new THREE.MeshBasicMaterial({ color: 0x33aaff });
const glow = new THREE.Mesh(glowGeom, glowMat);
glow.position.set(0, 23, 40);
scene.add(glow);

const glow2 = glow.clone();
glow2.position.set(0, 23, -40);
scene.add(glow2);

// ---------- TRANSPARENT DOME ----------
const domeGeom = new THREE.SphereGeometry(95, 32, 32, 0, Math.PI);
const domeMat = new THREE.MeshPhysicalMaterial({
    color: 0x113355,
    transparent: true,
    opacity: 0.25,
    roughness: 0.1,
    metalness: 0.3,
    clearcoat: 1.0
});
const dome = new THREE.Mesh(domeGeom, domeMat);
dome.position.set(0, 70, 0);
scene.add(dome);

// ---------- WATER PULSE MATTRESS ----------
const mattress = new THREE.Group();
const blobMaterial = new THREE.MeshPhongMaterial({
    color: 0x1188ff,
    emissive: 0x0044ff,
    shininess: 120
});

for (let x = -70; x <= 70; x += 35) {
    for (let z = -30; z <= 30; z += 30) {
        const blob = new THREE.Mesh(new THREE.SphereGeometry(18, 32, 32), blobMaterial);
        blob.position.set(x, 30, z);
        mattress.add(blob);
    }
}
scene.add(mattress);

// ---------- ROTATION ----------
function animate() {
    requestAnimationFrame(animate);
    mattress.rotation.y += 0.001;
    renderer.render(scene, camera);
}
animate();

window.addEventListener("resize", () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>

</body>
</html>
